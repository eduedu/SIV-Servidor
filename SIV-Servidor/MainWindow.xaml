<Window x:Name="SistemaVentas" x:Class="SIV_Servidor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SIV_Servidor"
        mc:Ignorable="d"
        Title="Sistema Ventas (Servidor)" Height="650" Width="950" Background="#FF828296">
    <Window.Resources>
        <Style TargetType="{x:Type ListViewItem}">
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="true" >
                    <Setter Property="Background" Value="#FFB4FFB4" />
                </Trigger>
                <MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="IsSelected" Value="True" />
                        <Condition Property="IsFocused" Value="True" />
                    </MultiTrigger.Conditions>
                    <MultiTrigger.Setters>
                        <Setter Property="Background" Value="#FFFFFF78" />
                    </MultiTrigger.Setters>
                </MultiTrigger>
            </Style.Triggers>
        </Style>

        <!--
        <Style x:Key="MyFocusVisualStyle">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate >
                        <Rectangle Margin="-2" StrokeThickness="2" RadiusX="2" RadiusY="2" >
                            <Rectangle.Stroke>
                                <SolidColorBrush Color="Red" x:Name="RectangleStroke" />
                            </Rectangle.Stroke>
                            <Rectangle.Triggers>
                                <EventTrigger RoutedEvent="Rectangle.Loaded" >
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation From="Red"
                                                        To="Orange"
                                                        Duration="0:0:0.5" 
                                                        RepeatBehavior="Forever" 
                                                        Storyboard.TargetName="RectangleStroke"
                                                        Storyboard.TargetProperty="Color"/>
                                            <DoubleAnimation To="3" 
                                                         Duration="0:0:0.5"
                                                         RepeatBehavior="Forever"
                                                         Storyboard.TargetProperty="StrokeDashOffset" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Rectangle.Triggers>
                        </Rectangle>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource MyFocusVisualStyle}" />
        </Style>
        <Style TargetType="{x:Type TextBox}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource MyFocusVisualStyle}" />
        </Style>
        -->
    </Window.Resources>
    <Grid>
        <Rectangle HorizontalAlignment="Left" Height="67" Margin="10,55,0,0" Stroke="#FFDCDCFF" VerticalAlignment="Top" Width="780"/>

        <Rectangle HorizontalAlignment="Left" Height="304" Margin="10,146,0,0" Stroke="#FFDCDCFF" VerticalAlignment="Top" Width="780"/>

        <Label x:Name="label_Copy5" Content="Artículo" HorizontalAlignment="Left" Margin="21,38,0,0" VerticalAlignment="Top" Foreground="White" Background="#FF828296" FontWeight="Bold"/>
        <Label x:Name="Label1" x:FieldModifier="public" Content="Label" Margin="0,577,10,0" VerticalAlignment="Top" Height="32" Background="#FF00FF96" HorizontalAlignment="Right" Width="147"/>
        <Label x:Name="LTemp" Content="LTemp" HorizontalAlignment="Left" Margin="21,577,0,0" VerticalAlignment="Top" Width="650" Background="#FF00FF96" Height="32"/>
        <ListView x:Name="listFiltro"    Height="224" Margin="968,106,-656,0" VerticalAlignment="Top" Width="630" Background="#FFF0F0F0" KeyDown="listFiltro_KeyDown" HorizontalAlignment="Left" Panel.ZIndex="1" IsTabStop="True" Foreground="Black"  >
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="id" Width="50"   DisplayMemberBinding="{Binding id}"  />
                    <GridViewColumn Header="Código" Width="100"   DisplayMemberBinding="{Binding codigo}"  />
                    <GridViewColumn Header="Descripcion" Width="350" DisplayMemberBinding="{Binding descripcion}"  />
                    <GridViewColumn Header="Precio" Width="100"   >
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding precio, StringFormat=\{0:C\}}" Width="100" TextAlignment="Right" HorizontalAlignment="Right"  FontWeight="Bold"  />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
        </ListView>
        <DataGrid x:Name="gridFiltro" ItemsSource="{Binding}" HorizontalAlignment="Left" Margin="968,449,-414,0" VerticalAlignment="Top" Height="104" Width="388" Background="#FFF000F0"/>
        <TextBox x:Name="tbCodigo" HorizontalAlignment="Left" Height="30" Margin="20,82,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="105" Background="#FFB4FFB4" ToolTip="filtro" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" VerticalContentAlignment="Center" Focusable="False" IsTabStop="False" IsHitTestVisible="False"/>
        <TextBox x:Name="tbDescripcion" HorizontalAlignment="Left" Height="30" Margin="130,82,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="350" Background="White" ToolTip="filtro" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" VerticalContentAlignment="Center" TextChanged="tbDescripcion_TextChanged" PreviewKeyDown="tbDescripcion_PreviewKeyDown"/>
        <TextBox x:Name="tbSubtotal" HorizontalAlignment="Left" Height="30" Margin="655,82,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="105" Background="#FFB4FFB4" ToolTip="filtro" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" VerticalContentAlignment="Center" Focusable="False" IsHitTestVisible="False" IsTabStop="False" HorizontalContentAlignment="Right"/>
        <TextBox x:Name="tbPrecio" HorizontalAlignment="Left" Height="30" Margin="570,82,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="80" Background="White" ToolTip="filtro" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" PreviewKeyDown="tbPrecio_PreviewKeyDown" TextChanged="tbPrecio_TextChanged"/>
        <TextBox x:Name="tbCantidad" HorizontalAlignment="Left" Height="30" Margin="485,82,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="80" Background="White" ToolTip="filtro" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" PreviewKeyDown="tbCantidad_PreviewKeyDown" TextChanged="tbCantidad_TextChanged"/>
        <Label x:Name="label_Copy" Content="Código" HorizontalAlignment="Left" Margin="21,58,0,0" VerticalAlignment="Top" Foreground="White"/>
        <Label x:Name="label_Copy1" Content="Descripción" HorizontalAlignment="Left" Margin="130,58,0,0" VerticalAlignment="Top" Foreground="White"/>
        <Label x:Name="label_Copy2" Content="Cantidad" HorizontalAlignment="Left" Margin="485,58,0,0" VerticalAlignment="Top" Foreground="White"/>
        <Label x:Name="label_Copy3" Content="Precio $" HorizontalAlignment="Left" Margin="570,58,0,0" VerticalAlignment="Top" Foreground="White"/>
        <Label x:Name="label_Copy4" Content="Sub-total $" HorizontalAlignment="Left" Margin="655,58,0,0" VerticalAlignment="Top" Foreground="White"/>
        <TabControl x:Name="tabControl" HorizontalAlignment="Left" Height="36" Margin="20,170,0,0" VerticalAlignment="Top" Width="339" SelectionChanged="tabControl_SelectionChanged" Focusable="False">
            <TabControl.Resources>
                <Style TargetType="{x:Type TabItem}">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type TabItem}">

                                <Border x:Name="Border" BorderThickness="1,1,1,0" BorderBrush="Gainsboro" CornerRadius="4,4,0,0" Margin="0,0,2,0">
                                    <ContentPresenter x:Name="ContentSite"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Center"
                                        ContentSource="Header"
                                        Margin="26,8"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#FFB4FFB4" />
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="False">
                                        <Setter TargetName="Border" Property="Background" Value="White" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </TabControl.Resources>
            <TabItem Header="1" GotFocus="TabItem_GotFocus"/>
            <TabItem Header="2" GotFocus="TabItem_GotFocus"/>
            <TabItem Header="3" GotFocus="TabItem_GotFocus"/>
            <TabItem Header="4" GotFocus="TabItem_GotFocus"/>
            <TabItem Header="5" GotFocus="TabItem_GotFocus"/>
        </TabControl>
        <ListView x:Name="listVenta"    Height="197" Margin="21,205,0,0" VerticalAlignment="Top" Width="760" Background="#FFF0F0F0" HorizontalAlignment="Left" Foreground="Black"  >
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Código" Width="100"   DisplayMemberBinding="{Binding codigo}"  />
                    <GridViewColumn Header="Descripción" Width="350" DisplayMemberBinding="{Binding descripcion}"  />
                    <GridViewColumn Header="Cantidad" Width="90"   >
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding cantidad}" Width="80" TextAlignment="Right" HorizontalAlignment="Right"   />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Precio $" Width="90"   >
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding precio, StringFormat=\{0:C\}}" Width="100" TextAlignment="Right" HorizontalAlignment="Right" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Sub-total $" Width="100"   >
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding subtotal, StringFormat=\{0:C\}}" Width="100" TextAlignment="Right" HorizontalAlignment="Right"  FontWeight="Bold"  />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
        </ListView>

        <Button x:Name="btnAsentar1" Content="Asentar" HorizontalAlignment="Left" Height="30" Margin="968,38,-131,0" VerticalAlignment="Top" Width="105" GotFocus="Button_GotFocus" LostFocus="Button_LostFocus" ForceCursor="True" IsManipulationEnabled="True" Background="White" PreviewKeyDown="btnAsentar_PreviewKeyDown" FocusVisualStyle="{x:Null}" PreviewMouseLeftButtonUp="btnAsentar_PreviewMouseLeftButtonUp"/>
        <TextBox x:Name="tbTotal" HorizontalAlignment="Left" Height="30" Margin="654,407,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="105" Background="#FFB4FFB4" ToolTip="filtro" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" VerticalContentAlignment="Center" Focusable="False" IsHitTestVisible="False" IsTabStop="False" HorizontalContentAlignment="Right" FontWeight="Bold"/>
        <Label x:Name="label_Copy6" Content="TOTAL" HorizontalAlignment="Left" Margin="608,407,0,0" VerticalAlignment="Top" Foreground="White" FontWeight="Bold"/>
        <Label x:Name="label_Copy7" Content="Ventas" HorizontalAlignment="Left" Margin="21,129,0,0" VerticalAlignment="Top" Foreground="White" Background="#FF828296" FontWeight="Bold"/>
        <TextBox x:Name="tbPagaCon" HorizontalAlignment="Left" Height="30" Margin="485,168,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="80" Background="White" ToolTip="filtro" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" TextChanged="tbPagaCon_TextChanged" PreviewKeyDown="tbPagaCon_PreviewKeyDown"/>
        <Label x:Name="label_Copy8" Content="Paga con" HorizontalAlignment="Left" Margin="485,146,0,0" VerticalAlignment="Top" Foreground="White"/>
        <TextBox x:Name="tbVuelto" HorizontalAlignment="Left" Height="30" Margin="570,168,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="80" Background="#FFB4FFB4" ToolTip="filtro" GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" PreviewKeyDown="tbCantidad_PreviewKeyDown" TextChanged="tbCantidad_TextChanged" Focusable="False" IsHitTestVisible="False" IsTabStop="False"/>
        <Label x:Name="label_Copy9" Content="Vuelto" HorizontalAlignment="Left" Margin="570,146,0,0" VerticalAlignment="Top" Foreground="White"/>
        <Button x:Name="btnAsentar" Background="White" Height="30" Width="105" Margin="655,168,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" GotFocus="Button_GotFocus" LostFocus="Button_LostFocus" PreviewKeyDown="btnAsentar_PreviewKeyDown" PreviewMouseLeftButtonUp="btnAsentar_PreviewMouseLeftButtonUp">
            <StackPanel Orientation='Horizontal'  Margin="0" >
                <TextBlock Text="Asentar"  VerticalAlignment="Center" />
                <Image Height="20" Margin="10,0,0,0" Source="save.png" />
            </StackPanel>
        </Button>
        <Button x:Name="btnVerCaja" Background="White" Height="30" Width="105" Margin="655,498,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" GotFocus="Button_GotFocus" LostFocus="Button_LostFocus" PreviewKeyDown="btnVerCaja_PreviewKeyDown" PreviewMouseLeftButtonUp="btnVerCaja_PreviewMouseLeftButtonUp">
            <StackPanel Orientation='Horizontal'  Margin="0" >
                <TextBlock  VerticalAlignment="Center" Text="Ver Caja" />
                <Image Height="20" Margin="10,0,0,0" Source="vercaja.png" />
            </StackPanel>
        </Button>

    </Grid>
</Window>
